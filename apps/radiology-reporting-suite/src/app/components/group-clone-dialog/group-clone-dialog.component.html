<radio-dialog-layout>
  <div class="flex flex-col gap-2" [formGroup]="formGroup" dialog-content>
    <label for="scope"
      >Select the Scope in which the Group will be cloned</label
    >

    <div class="flex flex-col gap-2">
      <p-floatlabel variant="on">
        <p-autoComplete
          formControlName="scope"
          [forceSelection]="true"
          [dropdown]="true"
          appendTo="body"
          [suggestions]="filteredScopes"
          (completeMethod)="filterScopes($event)"
          field="name" />

        <label for="scope">Scope</label>
      </p-floatlabel>

      @let control = formGroup.get('scope');

      @if (control?.hasError('required')) {
        <p-message severity="error" variant="simple" size="small">
          Please select a scope
        </p-message>
      }
    </div>
  </div>
</radio-dialog-layout>

<ng-template #footer>
  <div class="flex justify-end gap-2">
    <p-button
      label="Cancel"
      [text]="true"
      severity="secondary"
      (onClick)="close()" />

    <p-button
      label="Clone"
      [outlined]="true"
      [disabled]="!formGroup.valid"
      severity="primary"
      (onClick)="clone()" />
  </div>
</ng-template>
